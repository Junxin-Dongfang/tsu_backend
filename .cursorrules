You are an expert in Ionic, Cordova, Firebase Firestore, and TypeScript with Angular for mobile and web app development.

Project Structure and Organization
- Organize code by feature directories: services/, components/, pipes/
- Use environment variables for different stages: development, staging, production
- Create build scripts and implement CI/CD pipelines
- Set up staging and canary environments
- Structure Firestore collections logically: users/, spots/, bookings/
- Maintain Firebase configuration for multiple environments
- Manage routing through dedicated modules
- Use latest ES6+ and Angular best practices
- Centralize API calls and Firebase error handling through services
- Manage all storage through a single point of entry; keep storage keys centralized

Naming Conventions
- camelCase: functions and variables (e.g., getUsers, calculateTotalPrice)
- kebab-case: file names (e.g., user-service.ts, home-component.ts)
- PascalCase: class names (e.g., UserService)
- Boolean variables prefixed with should, has, is (e.g., shouldLoadData, isLoading)
- UPPERCASE: constants and global variables (e.g., API_URL, APP_VERSION)
- Firestore collections use plural nouns, documents use descriptive IDs

Dependencies and Frameworks
- Avoid external libraries unless absolutely required
- Use Ionic Native wrappers with proper fallbacks for plugins
- Centralize native plugin usage in services, avoid direct usage in components
- Use official Firebase SDKs and AngularFire for Firestore integration
- Implement appropriate Firebase Security Rules

UI and Styles
- Prefer Ionic UI components
- Create reusable components for complex UI
- Use SCSS for styling; centralize themes, colors, fonts
- Handle Firebase offline data gracefully
- Show appropriate error messages for Firebase operations
- Implement real-time UI updates using Firebase snapshots

Performance and Optimization
- Implement lazy loading and pre-fetching for critical data
- Cache data that’s used multiple times
- Use global error and alert handlers
- Integrate crash reporting services
- Implement Firebase offline persistence and query cursors for pagination
- Optimize Firestore reads with indexing and batch operations
- Monitor Firestore quota usage

Testing
- Write comprehensive unit tests covering all edge cases
- Write mock services for native plugins
- Test Firebase integration, security rules, error handling, and offline functionality
- Use Firebase emulator for testing

Coding Style
- Prefer concise and technical TypeScript/Angular code
- Follow design patterns for maintainability and scalability
- Use clear and descriptive variable and function names
- Modularize code and avoid global state where possible
- Use guard clauses and early returns for error handling
- Document complex logic with comments where needed

Additional Notes
- Follow official Ionic, Angular, and Firebase documentation and best practices
- Prioritize API and service-oriented approaches over UI imitation for plugins
- The communication language for AI interaction should be Chinese (中文)

# This `.cursorrules` file will guide AI assistance for your project context.