一、 英雄创建与基础设定
英雄创建: 玩家可以创建新的游戏角色。
初始职业: 创建时，玩家只能选择一个预设的初始职业。
初始等级与属性:
所有英雄初始等级均为1级，初始经验为0。
所有基础属性（如力量、敏捷等）的初始值均为1。
所选职业会对英雄的基础属性提供额外的加成，该加成由 class_attribute_bonuses 表进行管理。
初始技能:
英雄创建后会自带一组初始技能，且这些技能的初始等级均为1级。
需要在职业技能表中增加一个字段（例如 is_initial_skill）来标识初始技能。
二、 英雄成长与升级
等级系统:
英雄的等级上限设定为40级。
等级提升所需经验由一个总的升级经验表 (level_xp_requirements) 统一管理。
自动升级机制:
当英雄花费的总经验值（用于加点或升级技能）累计达到下一等级的升级门槛时，英雄将自动升级。
三、 英雄属性管理
属性加点:
玩家可以主动消耗经验值为英雄的各项基础属性加点。
加点所需消耗的经验值由一个总的配置表统一管理。
单个属性没有设定硬性的上限，其成长主要通过递增的加点经验消耗来控制。
属性构成:
英雄的总属性值是动态计算的结果，应清晰地划分为“基础加点”和“技能提供”等多个部分，便于区分和管理。建议使用数据库视图（View）来实现此动态计算。
加点回退机制 (栈模式):
加点回退机制采用后进先出（LIFO）的栈模式。
玩家在加点后的1小时内可以进行回退操作，但只能回退最后一次的加点行为。
如果要回退更早的操作，必须先将其后的所有加点操作在各自的回退时限内逐一撤销。
四、 英雄技能管理
技能池与学习:
每个英雄拥有一个“技能池” (class_skill_pools) 和一个“已学习技能列表” (learned_skills)。
技能池决定了英雄当前可以学习哪些技能。
玩家需要手动消耗经验值和金币来学习新技能或升级已学习的技能。
技能来源:
已学习的技能需要有一个 learned_method 字段来标记其来源（如：职业自带、装备提供等）。
技能等级:
技能的可学习等级上限由 class_skill_pools.max_learnable_level 和 skills.max_level 共同决定。
技能回退机制 (栈模式):
与属性加点完全一致，技能升级的回退也采用后进先出（LIFO）的栈模式。
玩家在技能升级后的1小时内，只能回退最后一次升级操作。
五、 职业与转职
转职机制 (当前阶段):
当前阶段，系统仅支持将英雄转职为‘basic’基础职业，这是一种作为“重生”机制的特殊转职。
“重生”效果:
当英雄转职为“basic”时，将触发一次彻底的重置，具体包括：
重置职业和技能池。
返还所有学习和升级技能所消耗的经验值。
重置所有属性加点。
自动卸下所有装备。
重置英雄等级。
六、 技术与实现
数据库 Schema: 需要明确区分 game_config_schema (游戏配置数据) 和 game_runtime_schema (玩家运行时数据) 的命名和用途。
定时任务:
使用 robfig/cron 库来实现定时任务，用于处理过期作废的回退操作。
需要为定时任务提供完善的日志记录功能。
探讨: 考虑创建一个独立的模块（Module）来专门执行定时计划，以保证系统架构的清晰和权责分离。