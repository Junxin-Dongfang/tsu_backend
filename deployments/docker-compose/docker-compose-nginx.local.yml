name: nginx

services:
  nginx:
    image: nginx:latest
    container_name: tsu_nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ../../infra/nginx/local.conf:/etc/nginx/conf.d/default.conf:ro
      - ../../web:/web:ro
      # 日志目录映射到项目目录
      - ../../logs/nginx:/var/log/nginx
      # Nginx 缓存目录
      - ../../cache/nginx:/var/cache/nginx
    restart: always
    networks:
        - tsu_network

networks:
  tsu_network:
    name: tsu-network
    external: true