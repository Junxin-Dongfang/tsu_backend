// Code generated by SQLBoiler 4.19.5 (https://github.com/aarondl/sqlboiler). DO NOT EDIT.
// This file is meant to be re-generated in place and/or deleted at any time.

package entity

import (
	"context"
	"database/sql"
	"fmt"
	"reflect"
	"strconv"
	"strings"
	"sync"
	"time"

	"github.com/aarondl/null/v8"
	"github.com/aarondl/sqlboiler/v4/boil"
	"github.com/aarondl/sqlboiler/v4/queries"
	"github.com/aarondl/sqlboiler/v4/queries/qm"
	"github.com/aarondl/sqlboiler/v4/queries/qmhelper"
	"github.com/aarondl/strmangle"
	"github.com/friendsofgo/errors"
)

// ClassDetail is an object representing the database table.
type ClassDetail struct {
	ID                        null.String `boil:"id" json:"id,omitempty" toml:"id" yaml:"id,omitempty"`
	ClassCode                 null.String `boil:"class_code" json:"class_code,omitempty" toml:"class_code" yaml:"class_code,omitempty"`
	ClassName                 null.String `boil:"class_name" json:"class_name,omitempty" toml:"class_name" yaml:"class_name,omitempty"`
	Description               null.String `boil:"description" json:"description,omitempty" toml:"description" yaml:"description,omitempty"`
	LoreText                  null.String `boil:"lore_text" json:"lore_text,omitempty" toml:"lore_text" yaml:"lore_text,omitempty"`
	Tier                      null.String `boil:"tier" json:"tier,omitempty" toml:"tier" yaml:"tier,omitempty"`
	PromotionCount            null.Int16  `boil:"promotion_count" json:"promotion_count,omitempty" toml:"promotion_count" yaml:"promotion_count,omitempty"`
	Icon                      null.String `boil:"icon" json:"icon,omitempty" toml:"icon" yaml:"icon,omitempty"`
	Color                     null.String `boil:"color" json:"color,omitempty" toml:"color" yaml:"color,omitempty"`
	IsActive                  null.Bool   `boil:"is_active" json:"is_active,omitempty" toml:"is_active" yaml:"is_active,omitempty"`
	IsVisible                 null.Bool   `boil:"is_visible" json:"is_visible,omitempty" toml:"is_visible" yaml:"is_visible,omitempty"`
	DisplayOrder              null.Int16  `boil:"display_order" json:"display_order,omitempty" toml:"display_order" yaml:"display_order,omitempty"`
	CreatedAt                 null.Time   `boil:"created_at" json:"created_at,omitempty" toml:"created_at" yaml:"created_at,omitempty"`
	UpdatedAt                 null.Time   `boil:"updated_at" json:"updated_at,omitempty" toml:"updated_at" yaml:"updated_at,omitempty"`
	DeletedAt                 null.Time   `boil:"deleted_at" json:"deleted_at,omitempty" toml:"deleted_at" yaml:"deleted_at,omitempty"`
	AttributeBonusCount       null.Int64  `boil:"attribute_bonus_count" json:"attribute_bonus_count,omitempty" toml:"attribute_bonus_count" yaml:"attribute_bonus_count,omitempty"`
	TagCount                  null.Int64  `boil:"tag_count" json:"tag_count,omitempty" toml:"tag_count" yaml:"tag_count,omitempty"`
	AvailableAdvancementPaths null.Int64  `boil:"available_advancement_paths" json:"available_advancement_paths,omitempty" toml:"available_advancement_paths" yaml:"available_advancement_paths,omitempty"`
	AdvancementSourceCount    null.Int64  `boil:"advancement_source_count" json:"advancement_source_count,omitempty" toml:"advancement_source_count" yaml:"advancement_source_count,omitempty"`
}

var ClassDetailColumns = struct {
	ID                        string
	ClassCode                 string
	ClassName                 string
	Description               string
	LoreText                  string
	Tier                      string
	PromotionCount            string
	Icon                      string
	Color                     string
	IsActive                  string
	IsVisible                 string
	DisplayOrder              string
	CreatedAt                 string
	UpdatedAt                 string
	DeletedAt                 string
	AttributeBonusCount       string
	TagCount                  string
	AvailableAdvancementPaths string
	AdvancementSourceCount    string
}{
	ID:                        "id",
	ClassCode:                 "class_code",
	ClassName:                 "class_name",
	Description:               "description",
	LoreText:                  "lore_text",
	Tier:                      "tier",
	PromotionCount:            "promotion_count",
	Icon:                      "icon",
	Color:                     "color",
	IsActive:                  "is_active",
	IsVisible:                 "is_visible",
	DisplayOrder:              "display_order",
	CreatedAt:                 "created_at",
	UpdatedAt:                 "updated_at",
	DeletedAt:                 "deleted_at",
	AttributeBonusCount:       "attribute_bonus_count",
	TagCount:                  "tag_count",
	AvailableAdvancementPaths: "available_advancement_paths",
	AdvancementSourceCount:    "advancement_source_count",
}

var ClassDetailTableColumns = struct {
	ID                        string
	ClassCode                 string
	ClassName                 string
	Description               string
	LoreText                  string
	Tier                      string
	PromotionCount            string
	Icon                      string
	Color                     string
	IsActive                  string
	IsVisible                 string
	DisplayOrder              string
	CreatedAt                 string
	UpdatedAt                 string
	DeletedAt                 string
	AttributeBonusCount       string
	TagCount                  string
	AvailableAdvancementPaths string
	AdvancementSourceCount    string
}{
	ID:                        "class_details.id",
	ClassCode:                 "class_details.class_code",
	ClassName:                 "class_details.class_name",
	Description:               "class_details.description",
	LoreText:                  "class_details.lore_text",
	Tier:                      "class_details.tier",
	PromotionCount:            "class_details.promotion_count",
	Icon:                      "class_details.icon",
	Color:                     "class_details.color",
	IsActive:                  "class_details.is_active",
	IsVisible:                 "class_details.is_visible",
	DisplayOrder:              "class_details.display_order",
	CreatedAt:                 "class_details.created_at",
	UpdatedAt:                 "class_details.updated_at",
	DeletedAt:                 "class_details.deleted_at",
	AttributeBonusCount:       "class_details.attribute_bonus_count",
	TagCount:                  "class_details.tag_count",
	AvailableAdvancementPaths: "class_details.available_advancement_paths",
	AdvancementSourceCount:    "class_details.advancement_source_count",
}

// Generated where

var ClassDetailWhere = struct {
	ID                        whereHelpernull_String
	ClassCode                 whereHelpernull_String
	ClassName                 whereHelpernull_String
	Description               whereHelpernull_String
	LoreText                  whereHelpernull_String
	Tier                      whereHelpernull_String
	PromotionCount            whereHelpernull_Int16
	Icon                      whereHelpernull_String
	Color                     whereHelpernull_String
	IsActive                  whereHelpernull_Bool
	IsVisible                 whereHelpernull_Bool
	DisplayOrder              whereHelpernull_Int16
	CreatedAt                 whereHelpernull_Time
	UpdatedAt                 whereHelpernull_Time
	DeletedAt                 whereHelpernull_Time
	AttributeBonusCount       whereHelpernull_Int64
	TagCount                  whereHelpernull_Int64
	AvailableAdvancementPaths whereHelpernull_Int64
	AdvancementSourceCount    whereHelpernull_Int64
}{
	ID:                        whereHelpernull_String{field: "\"class_details\".\"id\""},
	ClassCode:                 whereHelpernull_String{field: "\"class_details\".\"class_code\""},
	ClassName:                 whereHelpernull_String{field: "\"class_details\".\"class_name\""},
	Description:               whereHelpernull_String{field: "\"class_details\".\"description\""},
	LoreText:                  whereHelpernull_String{field: "\"class_details\".\"lore_text\""},
	Tier:                      whereHelpernull_String{field: "\"class_details\".\"tier\""},
	PromotionCount:            whereHelpernull_Int16{field: "\"class_details\".\"promotion_count\""},
	Icon:                      whereHelpernull_String{field: "\"class_details\".\"icon\""},
	Color:                     whereHelpernull_String{field: "\"class_details\".\"color\""},
	IsActive:                  whereHelpernull_Bool{field: "\"class_details\".\"is_active\""},
	IsVisible:                 whereHelpernull_Bool{field: "\"class_details\".\"is_visible\""},
	DisplayOrder:              whereHelpernull_Int16{field: "\"class_details\".\"display_order\""},
	CreatedAt:                 whereHelpernull_Time{field: "\"class_details\".\"created_at\""},
	UpdatedAt:                 whereHelpernull_Time{field: "\"class_details\".\"updated_at\""},
	DeletedAt:                 whereHelpernull_Time{field: "\"class_details\".\"deleted_at\""},
	AttributeBonusCount:       whereHelpernull_Int64{field: "\"class_details\".\"attribute_bonus_count\""},
	TagCount:                  whereHelpernull_Int64{field: "\"class_details\".\"tag_count\""},
	AvailableAdvancementPaths: whereHelpernull_Int64{field: "\"class_details\".\"available_advancement_paths\""},
	AdvancementSourceCount:    whereHelpernull_Int64{field: "\"class_details\".\"advancement_source_count\""},
}

var (
	classDetailAllColumns            = []string{"id", "class_code", "class_name", "description", "lore_text", "tier", "promotion_count", "icon", "color", "is_active", "is_visible", "display_order", "created_at", "updated_at", "deleted_at", "attribute_bonus_count", "tag_count", "available_advancement_paths", "advancement_source_count"}
	classDetailColumnsWithoutDefault = []string{}
	classDetailColumnsWithDefault    = []string{"id", "class_code", "class_name", "description", "lore_text", "tier", "promotion_count", "icon", "color", "is_active", "is_visible", "display_order", "created_at", "updated_at", "deleted_at", "attribute_bonus_count", "tag_count", "available_advancement_paths", "advancement_source_count"}
	classDetailPrimaryKeyColumns     = []string{}
	classDetailGeneratedColumns      = []string{}
)

type (
	// ClassDetailSlice is an alias for a slice of pointers to ClassDetail.
	// This should almost always be used instead of []ClassDetail.
	ClassDetailSlice []*ClassDetail
	// ClassDetailHook is the signature for custom ClassDetail hook methods
	ClassDetailHook func(context.Context, boil.ContextExecutor, *ClassDetail) error

	classDetailQuery struct {
		*queries.Query
	}
)

// Cache for insert, update and upsert
var (
	classDetailType           = reflect.TypeOf(&ClassDetail{})
	classDetailMapping        = queries.MakeStructMapping(classDetailType)
	classDetailInsertCacheMut sync.RWMutex
	classDetailInsertCache    = make(map[string]insertCache)
	classDetailUpdateCacheMut sync.RWMutex
	classDetailUpdateCache    = make(map[string]updateCache)
	classDetailUpsertCacheMut sync.RWMutex
	classDetailUpsertCache    = make(map[string]insertCache)
)

var (
	// Force time package dependency for automated UpdatedAt/CreatedAt.
	_ = time.Second
	// Force qmhelper dependency for where clause generation (which doesn't
	// always happen)
	_ = qmhelper.Where
	// These are used in some views
	_ = fmt.Sprintln("")
	_ = reflect.Int
	_ = strings.Builder{}
	_ = sync.Mutex{}
	_ = strmangle.Plural("")
	_ = strconv.IntSize
)

var classDetailAfterSelectMu sync.Mutex
var classDetailAfterSelectHooks []ClassDetailHook

// doAfterSelectHooks executes all "after Select" hooks.
func (o *ClassDetail) doAfterSelectHooks(ctx context.Context, exec boil.ContextExecutor) (err error) {
	if boil.HooksAreSkipped(ctx) {
		return nil
	}

	for _, hook := range classDetailAfterSelectHooks {
		if err := hook(ctx, exec, o); err != nil {
			return err
		}
	}

	return nil
}

// AddClassDetailHook registers your hook function for all future operations.
func AddClassDetailHook(hookPoint boil.HookPoint, classDetailHook ClassDetailHook) {
	switch hookPoint {
	case boil.AfterSelectHook:
		classDetailAfterSelectMu.Lock()
		classDetailAfterSelectHooks = append(classDetailAfterSelectHooks, classDetailHook)
		classDetailAfterSelectMu.Unlock()
	}
}

// OneG returns a single classDetail record from the query using the global executor.
func (q classDetailQuery) OneG(ctx context.Context) (*ClassDetail, error) {
	return q.One(ctx, boil.GetContextDB())
}

// OneGP returns a single classDetail record from the query using the global executor, and panics on error.
func (q classDetailQuery) OneGP(ctx context.Context) *ClassDetail {
	o, err := q.One(ctx, boil.GetContextDB())
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return o
}

// OneP returns a single classDetail record from the query, and panics on error.
func (q classDetailQuery) OneP(ctx context.Context, exec boil.ContextExecutor) *ClassDetail {
	o, err := q.One(ctx, exec)
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return o
}

// One returns a single classDetail record from the query.
func (q classDetailQuery) One(ctx context.Context, exec boil.ContextExecutor) (*ClassDetail, error) {
	o := &ClassDetail{}

	queries.SetLimit(q.Query, 1)

	err := q.Bind(ctx, exec, o)
	if err != nil {
		if errors.Is(err, sql.ErrNoRows) {
			return nil, sql.ErrNoRows
		}
		return nil, errors.Wrap(err, "entity: failed to execute a one query for class_details")
	}

	if err := o.doAfterSelectHooks(ctx, exec); err != nil {
		return o, err
	}

	return o, nil
}

// AllG returns all ClassDetail records from the query using the global executor.
func (q classDetailQuery) AllG(ctx context.Context) (ClassDetailSlice, error) {
	return q.All(ctx, boil.GetContextDB())
}

// AllGP returns all ClassDetail records from the query using the global executor, and panics on error.
func (q classDetailQuery) AllGP(ctx context.Context) ClassDetailSlice {
	o, err := q.All(ctx, boil.GetContextDB())
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return o
}

// AllP returns all ClassDetail records from the query, and panics on error.
func (q classDetailQuery) AllP(ctx context.Context, exec boil.ContextExecutor) ClassDetailSlice {
	o, err := q.All(ctx, exec)
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return o
}

// All returns all ClassDetail records from the query.
func (q classDetailQuery) All(ctx context.Context, exec boil.ContextExecutor) (ClassDetailSlice, error) {
	var o []*ClassDetail

	err := q.Bind(ctx, exec, &o)
	if err != nil {
		return nil, errors.Wrap(err, "entity: failed to assign all query results to ClassDetail slice")
	}

	if len(classDetailAfterSelectHooks) != 0 {
		for _, obj := range o {
			if err := obj.doAfterSelectHooks(ctx, exec); err != nil {
				return o, err
			}
		}
	}

	return o, nil
}

// CountG returns the count of all ClassDetail records in the query using the global executor
func (q classDetailQuery) CountG(ctx context.Context) (int64, error) {
	return q.Count(ctx, boil.GetContextDB())
}

// CountGP returns the count of all ClassDetail records in the query using the global executor, and panics on error.
func (q classDetailQuery) CountGP(ctx context.Context) int64 {
	c, err := q.Count(ctx, boil.GetContextDB())
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return c
}

// CountP returns the count of all ClassDetail records in the query, and panics on error.
func (q classDetailQuery) CountP(ctx context.Context, exec boil.ContextExecutor) int64 {
	c, err := q.Count(ctx, exec)
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return c
}

// Count returns the count of all ClassDetail records in the query.
func (q classDetailQuery) Count(ctx context.Context, exec boil.ContextExecutor) (int64, error) {
	var count int64

	queries.SetSelect(q.Query, nil)
	queries.SetCount(q.Query)

	err := q.Query.QueryRowContext(ctx, exec).Scan(&count)
	if err != nil {
		return 0, errors.Wrap(err, "entity: failed to count class_details rows")
	}

	return count, nil
}

// ExistsG checks if the row exists in the table using the global executor.
func (q classDetailQuery) ExistsG(ctx context.Context) (bool, error) {
	return q.Exists(ctx, boil.GetContextDB())
}

// ExistsGP checks if the row exists in the table using the global executor, and panics on error.
func (q classDetailQuery) ExistsGP(ctx context.Context) bool {
	e, err := q.Exists(ctx, boil.GetContextDB())
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return e
}

// ExistsP checks if the row exists in the table, and panics on error.
func (q classDetailQuery) ExistsP(ctx context.Context, exec boil.ContextExecutor) bool {
	e, err := q.Exists(ctx, exec)
	if err != nil {
		panic(boil.WrapErr(err))
	}

	return e
}

// Exists checks if the row exists in the table.
func (q classDetailQuery) Exists(ctx context.Context, exec boil.ContextExecutor) (bool, error) {
	var count int64

	queries.SetSelect(q.Query, nil)
	queries.SetCount(q.Query)
	queries.SetLimit(q.Query, 1)

	err := q.Query.QueryRowContext(ctx, exec).Scan(&count)
	if err != nil {
		return false, errors.Wrap(err, "entity: failed to check if class_details exists")
	}

	return count > 0, nil
}

// ClassDetails retrieves all the records using an executor.
func ClassDetails(mods ...qm.QueryMod) classDetailQuery {
	mods = append(mods, qm.From("\"class_details\""), qmhelper.WhereIsNull("\"class_details\".\"deleted_at\""))
	q := NewQuery(mods...)
	if len(queries.GetSelect(q)) == 0 {
		queries.SetSelect(q, []string{"\"class_details\".*"})
	}

	return classDetailQuery{q}
}
